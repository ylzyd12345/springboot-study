# Spring4demo å®æ–½æ–¹æ¡ˆè®¾è®¡

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **æ–‡æ¡£åç§°** | Spring4demo å®æ–½æ–¹æ¡ˆè®¾è®¡ |
| **ç‰ˆæœ¬å·** | v1.0.0 |
| **åˆ›å»ºæ—¥æœŸ** | 2025-12-24 |
| **ä½œè€…** | é¡¹ç›®ç»ç† |
| **å®¡æ ¸äºº** | æŠ€æœ¯æ¶æ„å¸ˆ |
| **æ‰¹å‡†äºº** | é¡¹ç›®æ€»ç›‘ |

## ğŸ¯ å®æ–½æ–¹æ¡ˆæ¦‚è¿°

Spring4demoå®æ–½æ–¹æ¡ˆé‡‡ç”¨æ•æ·å¼€å‘æ–¹æ³•ï¼Œåˆ†é˜¶æ®µäº¤ä»˜ï¼Œç¡®ä¿é¡¹ç›®èƒ½å¤Ÿå¿«é€Ÿå“åº”ä¸šåŠ¡éœ€æ±‚å˜åŒ–ã€‚æ•´ä¸ªå®æ–½è¿‡ç¨‹åŒ…æ‹¬é¡¹ç›®å¯åŠ¨ã€éœ€æ±‚åˆ†æã€ç³»ç»Ÿè®¾è®¡ã€å¼€å‘å®ç°ã€æµ‹è¯•éªŒè¯ã€éƒ¨ç½²ä¸Šçº¿å’Œè¿ç»´æ”¯æŒç­‰å®Œæ•´ç¯èŠ‚ï¼Œé…å¤‡ä¸“ä¸šçš„é¡¹ç›®å›¢é˜Ÿå’Œå®Œå–„çš„å®æ–½æµç¨‹ã€‚

## ğŸ‘¥ é¡¹ç›®ç»„ç»‡æ¶æ„

### 1. é¡¹ç›®å›¢é˜Ÿç»“æ„

```mermaid
graph TB
    subgraph "é¡¹ç›®ç®¡ç†å±‚"
        A1[é¡¹ç›®æ€»ç›‘] --> A2[é¡¹ç›®ç»ç†]
        A2 --> A3[æŠ€æœ¯æ¶æ„å¸ˆ]
        A2 --> A4[äº§å“ç»ç†]
    end
    
    subgraph "æŠ€æœ¯å›¢é˜Ÿ"
        B1[åç«¯å¼€å‘å›¢é˜Ÿ] --> B2[å‰ç«¯å¼€å‘å›¢é˜Ÿ]
        B3[æµ‹è¯•å›¢é˜Ÿ] --> B4[DevOpså›¢é˜Ÿ]
        B5[UI/UXè®¾è®¡å›¢é˜Ÿ]
    end
    
    subgraph "ä¸šåŠ¡å›¢é˜Ÿ"
        C1[ä¸šåŠ¡åˆ†æå¸ˆ] --> C2[éœ€æ±‚åˆ†æå¸ˆ]
        C3[è´¨é‡ä¿è¯ç»ç†]
    end
    
    A2 --> B1
    A2 --> B2
    A2 --> B3
    A4 --> C1
    A3 --> B4
```

**å›¢é˜Ÿæˆå‘˜èŒè´£**:

| è§’è‰² | äººæ•° | ä¸»è¦èŒè´£ |
|------|------|----------|
| é¡¹ç›®æ€»ç›‘ | 1 | é¡¹ç›®æ•´ä½“æŠŠæ§ã€èµ„æºåè°ƒã€é£é™©å†³ç­– |
| é¡¹ç›®ç»ç† | 1 | é¡¹ç›®è®¡åˆ’åˆ¶å®šã€è¿›åº¦ç®¡ç†ã€å›¢é˜Ÿåè°ƒ |
| æŠ€æœ¯æ¶æ„å¸ˆ | 1 | æŠ€æœ¯æ¶æ„è®¾è®¡ã€æŠ€æœ¯é€‰å‹ã€ä»£ç å®¡æŸ¥ |
| äº§å“ç»ç† | 1 | éœ€æ±‚ç®¡ç†ã€äº§å“è§„åˆ’ã€ç”¨æˆ·éªŒæ”¶ |
| åç«¯å¼€å‘å·¥ç¨‹å¸ˆ | 4 | åç«¯åŠŸèƒ½å¼€å‘ã€APIè®¾è®¡ã€æ•°æ®åº“è®¾è®¡ |
| å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ | 3 | å‰ç«¯ç•Œé¢å¼€å‘ã€ç”¨æˆ·ä½“éªŒå®ç° |
| æµ‹è¯•å·¥ç¨‹å¸ˆ | 2 | æµ‹è¯•ç”¨ä¾‹è®¾è®¡ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€è´¨é‡ä¿è¯ |
| DevOpså·¥ç¨‹å¸ˆ | 2 | ç¯å¢ƒæ­å»ºã€CI/CDã€ç›‘æ§è¿ç»´ |
| UI/UXè®¾è®¡å¸ˆ | 1 | ç•Œé¢è®¾è®¡ã€äº¤äº’è®¾è®¡ã€ç”¨æˆ·ä½“éªŒ |
| ä¸šåŠ¡åˆ†æå¸ˆ | 1 | ä¸šåŠ¡éœ€æ±‚åˆ†æã€æµç¨‹æ¢³ç† |

### 2. é¡¹ç›®ç®¡ç†æµç¨‹

#### 2.1 æ•æ·å¼€å‘æµç¨‹

```mermaid
gantt
    title Spring4demoé¡¹ç›®å®æ–½æ—¶é—´çº¿
    dateFormat  YYYY-MM-DD
    section ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¶æ„
    é¡¹ç›®å¯åŠ¨           :done, init, 2023-12-24, 3d
    éœ€æ±‚åˆ†æä¸è®¾è®¡     :done, analysis, after init, 5d
    åŸºç¡€æ¶æ„æ­å»º       :active, infra, after analysis, 7d
    
    section ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½
    ç”¨æˆ·ç®¡ç†æ¨¡å—       :user, after infra, 14d
    æƒé™ç®¡ç†æ¨¡å—       :permission, after user, 10d
    å†…å®¹ç®¡ç†æ¨¡å—       :content, after permission, 14d
    
    section ç¬¬ä¸‰é˜¶æ®µï¼šé«˜çº§åŠŸèƒ½
    å·¥ä½œæµå¼•æ“         :workflow, after content, 21d
    æœç´¢åŠŸèƒ½          :search, after workflow, 14d
    é€šçŸ¥ç³»ç»Ÿ          :notification, after search, 10d
    
    section ç¬¬å››é˜¶æ®µï¼šæµ‹è¯•éƒ¨ç½²
    é›†æˆæµ‹è¯•          :testing, after notification, 10d
    æ€§èƒ½ä¼˜åŒ–          :optimization, after testing, 7d
    ç”Ÿäº§éƒ¨ç½²          :deployment, after optimization, 5d
```

#### 2.2 Sprintè§„åˆ’

**Sprint 1-2: åŸºç¡€æ¶æ„æ­å»º**
- ç›®æ ‡ï¼šå»ºç«‹é¡¹ç›®åŸºç¡€æ¶æ„å’Œå¼€å‘ç¯å¢ƒ
- ä¸»è¦ä»»åŠ¡ï¼š
  - é¡¹ç›®åˆå§‹åŒ–å’Œä»£ç ä»“åº“æ­å»º
  - CI/CDæµæ°´çº¿é…ç½®
  - å¼€å‘ç¯å¢ƒDockeråŒ–éƒ¨ç½²
  - æ•°æ®åº“è®¾è®¡å’Œåˆå§‹åŒ–
  - åŸºç¡€æ¡†æ¶æ­å»º

**Sprint 3-4: ç”¨æˆ·æƒé™æ¨¡å—**
- ç›®æ ‡ï¼šå®Œæˆç”¨æˆ·ç®¡ç†å’Œæƒé™æ§åˆ¶åŠŸèƒ½
- ä¸»è¦ä»»åŠ¡ï¼š
  - ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯ç®¡ç†
  - è§’è‰²æƒé™ç®¡ç†
  - JWTè®¤è¯å®ç°
  - æƒé™æ§åˆ¶ä¸­é—´ä»¶
  - ç”¨æˆ·ç•Œé¢å¼€å‘

**Sprint 5-6: å†…å®¹ç®¡ç†æ¨¡å—**
- ç›®æ ‡ï¼šå®ç°æ–‡æ¡£ç®¡ç†å’Œå†…å®¹å®¡æ ¸åŠŸèƒ½
- ä¸»è¦ä»»åŠ¡ï¼š
  - æ–‡æ¡£CRUDæ“ä½œ
  - åˆ†ç±»å’Œæ ‡ç­¾ç®¡ç†
  - æ–‡æ¡£æœç´¢åŠŸèƒ½
  - å†…å®¹å®¡æ ¸æµç¨‹
  - æ–‡ä»¶ä¸Šä¼ ä¸‹è½½

**Sprint 7-9: å·¥ä½œæµå¼•æ“**
- ç›®æ ‡ï¼šæ„å»ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ç®¡ç†ç³»ç»Ÿ
- ä¸»è¦ä»»åŠ¡ï¼š
  - æµç¨‹å®šä¹‰å’Œå®ä¾‹ç®¡ç†
  - ä»»åŠ¡åˆ†é…å’Œå¤„ç†
  - æµç¨‹ç›‘æ§å’Œç»Ÿè®¡
  - å¯è§†åŒ–æµç¨‹è®¾è®¡å™¨
  - ç§»åŠ¨ç«¯é€‚é…

## ğŸ“‹ å®æ–½é˜¶æ®µè§„åˆ’

### 1. ç¬¬ä¸€é˜¶æ®µï¼šé¡¹ç›®å¯åŠ¨ä¸åŸºç¡€æ¶æ„ï¼ˆ2å‘¨ï¼‰

#### 1.1 é¡¹ç›®å¯åŠ¨å‡†å¤‡

**é¡¹ç›®å¯åŠ¨æ¸…å•**:

```markdown
## é¡¹ç›®å¯åŠ¨æ£€æŸ¥æ¸…å•

### ç¯å¢ƒå‡†å¤‡
- [ ] å¼€å‘ç¯å¢ƒæ­å»ºï¼ˆIDEã€JDKã€Mavenã€Gitï¼‰
- [ ] ä»£ç ä»“åº“åˆ›å»ºï¼ˆGitHub/GitLabï¼‰
- [ ] é¡¹ç›®ç®¡ç†å·¥å…·é…ç½®ï¼ˆJira/Confluenceï¼‰
- [ ] å›¢é˜Ÿæ²Ÿé€šå·¥å…·é…ç½®ï¼ˆSlack/Teamsï¼‰
- [ ] æ–‡æ¡£ç®¡ç†å¹³å°æ­å»º

### æŠ€æœ¯å‡†å¤‡
- [ ] æŠ€æœ¯æ ˆç¡®è®¤å’Œç‰ˆæœ¬é”å®š
- [ ] å¼€å‘è§„èŒƒåˆ¶å®šï¼ˆä»£ç è§„èŒƒã€æäº¤è§„èŒƒï¼‰
- [ ] CI/CDæµæ°´çº¿åŸºç¡€é…ç½®
- [ ] Dockerå¼€å‘ç¯å¢ƒé…ç½®
- [ ] æ•°æ®åº“ç¯å¢ƒæ­å»º

### å›¢é˜Ÿå‡†å¤‡
- [ ] å›¢é˜Ÿæˆå‘˜è§’è‰²ç¡®è®¤
- [ ] å¼€å‘æµç¨‹åŸ¹è®­
- [ ] æŠ€æœ¯æ ˆåŸ¹è®­
- [ ] é¡¹ç›®ç›®æ ‡å’ŒèŒƒå›´ç¡®è®¤
- [ ] æ²Ÿé€šæœºåˆ¶å»ºç«‹
```

**é¡¹ç›®å¯åŠ¨ä¼šè®®è®®ç¨‹**:

```yaml
# é¡¹ç›®å¯åŠ¨ä¼šè®®è®®ç¨‹
meeting_agenda:
  duration: "2å°æ—¶"
  participants: "å…¨ä½“é¡¹ç›®æˆå‘˜"
  
  agenda_items:
    - time: "0:00-0:15"
      topic: "é¡¹ç›®èƒŒæ™¯å’Œç›®æ ‡ä»‹ç»"
      presenter: "é¡¹ç›®æ€»ç›‘"
      materials:
        - "é¡¹ç›®èƒŒæ™¯æ–‡æ¡£"
        - "é¡¹ç›®ç›®æ ‡PPT"
    
    - time: "0:15-0:30"
      topic: "æŠ€æœ¯æ¶æ„å’Œé€‰å‹è¯´æ˜"
      presenter: "æŠ€æœ¯æ¶æ„å¸ˆ"
      materials:
        - "æŠ€æœ¯æ¶æ„å›¾"
        - "æŠ€æœ¯é€‰å‹å¯¹æ¯”è¡¨"
    
    - time: "0:30-0:45"
      topic: "é¡¹ç›®è®¡åˆ’å’Œé‡Œç¨‹ç¢‘"
      presenter: "é¡¹ç›®ç»ç†"
      materials:
        - "é¡¹ç›®æ—¶é—´çº¿"
        - "å…³é”®é‡Œç¨‹ç¢‘"
        - "é£é™©è¯„ä¼°"
    
    - time: "0:45-1:00"
      topic: "å›¢é˜Ÿåä½œæµç¨‹å’Œè§„èŒƒ"
      presenter: "é¡¹ç›®ç»ç†"
      materials:
        - "å¼€å‘æµç¨‹å›¾"
        - "ä»£ç è§„èŒƒæ–‡æ¡£"
        - "åä½œå·¥å…·ä½¿ç”¨æŒ‡å—"
    
    - time: "1:00-1:30"
      topic: "éœ€æ±‚åˆ†æå’ŒåŠŸèƒ½æ¼”ç¤º"
      presenter: "äº§å“ç»ç†"
      materials:
        - "éœ€æ±‚æ–‡æ¡£"
        - "åŸå‹è®¾è®¡"
        - "ç”¨æˆ·æ•…äº‹åœ°å›¾"
    
    - time: "1:30-2:00"
      topic: "Q&Aå’Œå›¢é˜Ÿè®¨è®º"
      presenter: "å…¨ä½“æˆå‘˜"
      materials:
        - "å¸¸è§é—®é¢˜æ¸…å•"
        - "è®¨è®ºè¦ç‚¹è®°å½•"
```

#### 1.2 åŸºç¡€æ¶æ„æ­å»º

**æŠ€æœ¯æ¶æ„å®æ–½è®¡åˆ’**:

```java
// é¡¹ç›®åˆå§‹åŒ–è„šæœ¬
public class ProjectInitializer {
    
    public void initializeProject() {
        // 1. åˆ›å»ºé¡¹ç›®ç»“æ„
        createProjectStructure();
        
        // 2. é…ç½®Mavençˆ¶é¡¹ç›®
        setupMavenParentProject();
        
        // 3. åˆ›å»ºå­æ¨¡å—
        createSubModules();
        
        // 4. é…ç½®åŸºç¡€ä¾èµ–
        setupBasicDependencies();
        
        // 5. é…ç½®å¼€å‘ç¯å¢ƒ
        setupDevelopmentEnvironment();
        
        // 6. åˆå§‹åŒ–æ•°æ®åº“
        initializeDatabase();
        
        // 7. é…ç½®CI/CDæµæ°´çº¿
        setupCICDPipeline();
    }
    
    private void createProjectStructure() {
        // åˆ›å»ºæ ‡å‡†Mavené¡¹ç›®ç»“æ„
        String[] directories = {
            "src/main/java/com/kev1n/spring4demo",
            "src/main/resources",
            "src/test/java",
            "src/test/resources",
            "docs",
            "scripts",
            "docker"
        };
        
        for (String dir : directories) {
            new File(dir).mkdirs();
        }
    }
}
```

**Dockerå¼€å‘ç¯å¢ƒé…ç½®**:

```yaml
# docker-compose.dev.yml
version: '3.8'

services:
  # åº”ç”¨æœåŠ¡
  app:
    build:
      context: .
      dockerfile: Dockerfile.dev
    ports:
      - "8080:8080"
      - "5005:5005"  # Debugç«¯å£
    volumes:
      - .:/app
      - ~/.m2:/root/.m2
    environment:
      - SPRING_PROFILES_ACTIVE=dev
      - JAVA_DEBUG_OPTIONS="-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=*:5005"
    depends_on:
      - mysql
      - redis
    networks:
      - dev-network

  # MySQLæ•°æ®åº“
  mysql:
    image: mysql:8.0.35
    ports:
      - "3306:3306"
    environment:
      - MYSQL_ROOT_PASSWORD=rootpassword
      - MYSQL_DATABASE=spring4demo_dev
      - MYSQL_USER=dev
      - MYSQL_PASSWORD=devpassword
    volumes:
      - mysql_dev_data:/var/lib/mysql
      - ./docker/mysql/init.sql:/docker-entrypoint-initdb.d/init.sql
    networks:
      - dev-network

  # Redisç¼“å­˜
  redis:
    image: redis:7.0.5-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_dev_data:/data
    networks:
      - dev-network

volumes:
  mysql_dev_data:
  redis_dev_data:

networks:
  dev-network:
    driver: bridge
```

### 2. ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼ˆ8å‘¨ï¼‰

#### 2.1 ç”¨æˆ·æƒé™æ¨¡å—å¼€å‘

**å¼€å‘ä»»åŠ¡åˆ†è§£**:

```markdown
## ç”¨æˆ·æƒé™æ¨¡å—å¼€å‘ä»»åŠ¡

### Sprint 3: ç”¨æˆ·ç®¡ç†åŸºç¡€åŠŸèƒ½
**ç›®æ ‡**: å®Œæˆç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯ç®¡ç†ç­‰åŸºç¡€åŠŸèƒ½

#### åç«¯å¼€å‘ä»»åŠ¡
- [ ] ç”¨æˆ·å®ä½“è®¾è®¡å’Œæ•°æ®åº“è¡¨åˆ›å»º
- [ ] ç”¨æˆ·æ³¨å†ŒAPIå¼€å‘
- [ ] ç”¨æˆ·ç™»å½•APIå¼€å‘ï¼ˆJWTè®¤è¯ï¼‰
- [ ] ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢å’Œæ›´æ–°API
- [ ] å¯†ç é‡ç½®åŠŸèƒ½
- [ ] ç”¨æˆ·çŠ¶æ€ç®¡ç†ï¼ˆæ¿€æ´»/ç¦ç”¨ï¼‰

#### å‰ç«¯å¼€å‘ä»»åŠ¡
- [ ] ç™»å½•é¡µé¢å¼€å‘
- [ ] æ³¨å†Œé¡µé¢å¼€å‘
- [ ] ç”¨æˆ·ä¿¡æ¯ç®¡ç†é¡µé¢
- [ ] å¯†ç ä¿®æ”¹é¡µé¢
- [ ] ç”¨æˆ·åˆ—è¡¨é¡µé¢ï¼ˆç®¡ç†å‘˜ï¼‰
- [ ] å“åº”å¼å¸ƒå±€é€‚é…

#### æµ‹è¯•ä»»åŠ¡
- [ ] ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½æµ‹è¯•ç”¨ä¾‹
- [ ] ç”¨æˆ·ç™»å½•åŠŸèƒ½æµ‹è¯•ç”¨ä¾‹
- [ ] ç”¨æˆ·ä¿¡æ¯ç®¡ç†æµ‹è¯•ç”¨ä¾‹
- [ ] å®‰å…¨æ€§æµ‹è¯•ï¼ˆSQLæ³¨å…¥ã€XSSç­‰ï¼‰
- [ ] æ€§èƒ½æµ‹è¯•ï¼ˆå¹¶å‘ç™»å½•ï¼‰

### Sprint 4: æƒé™ç®¡ç†åŠŸèƒ½
**ç›®æ ‡**: å®Œæˆè§’è‰²æƒé™ç®¡ç†åŠŸèƒ½

#### åç«¯å¼€å‘ä»»åŠ¡
- [ ] è§’è‰²æƒé™å®ä½“è®¾è®¡
- [ ] è§’è‰²ç®¡ç†APIå¼€å‘
- [ ] æƒé™ç®¡ç†APIå¼€å‘
- [ ] ç”¨æˆ·è§’è‰²åˆ†é…API
- [ ] æƒé™éªŒè¯ä¸­é—´ä»¶
- [ ] åŠ¨æ€æƒé™åŠ è½½

#### å‰ç«¯å¼€å‘ä»»åŠ¡
- [ ] è§’è‰²ç®¡ç†é¡µé¢
- [ ] æƒé™ç®¡ç†é¡µé¢
- [ ] ç”¨æˆ·è§’è‰²åˆ†é…é¡µé¢
- [ ] æƒé™æ ‘å½¢ç»„ä»¶å¼€å‘
- [ ] æƒé™éªŒè¯å‰ç«¯å®ç°

#### æµ‹è¯•ä»»åŠ¡
- [ ] æƒé™ç®¡ç†åŠŸèƒ½æµ‹è¯•
- [ ] æƒé™éªŒè¯æµ‹è¯•
- [ ] è§’è‰²åˆ†é…æµ‹è¯•
- [ ] å®‰å…¨æ€§æµ‹è¯•
```

**ä»£ç å®ç°ç¤ºä¾‹**:

```java
// ç”¨æˆ·æœåŠ¡å®ç°
@Service
@Transactional
public class UserServiceImpl implements UserService {
    
    @Autowired
    private UserRepository userRepository;
    
    @Autowired
    private PasswordEncoder passwordEncoder;
    
    @Autowired
    private EmailService emailService;
    
    @Override
    public UserDTO registerUser(RegisterUserRequest request) {
        // 1. éªŒè¯ç”¨æˆ·åå”¯ä¸€æ€§
        if (userRepository.existsByUsername(request.getUsername())) {
            throw new UserAlreadyExistsException("Username already exists");
        }
        
        // 2. éªŒè¯é‚®ç®±å”¯ä¸€æ€§
        if (userRepository.existsByEmail(request.getEmail())) {
            throw new UserAlreadyExistsException("Email already exists");
        }
        
        // 3. åˆ›å»ºç”¨æˆ·å®ä½“
        User user = User.builder()
            .username(request.getUsername())
            .email(request.getEmail())
            .password(passwordEncoder.encode(request.getPassword()))
            .status(UserStatus.INACTIVE)
            .build();
        
        // 4. ä¿å­˜ç”¨æˆ·
        user = userRepository.save(user);
        
        // 5. å‘é€æ¿€æ´»é‚®ä»¶
        String activationToken = generateActivationToken(user);
        emailService.sendActivationEmail(user.getEmail(), activationToken);
        
        // 6. è¿”å›ç”¨æˆ·ä¿¡æ¯
        return UserMapper.toDTO(user);
    }
    
    @Override
    public LoginResponse loginUser(LoginRequest request) {
        // 1. æŸ¥æ‰¾ç”¨æˆ·
        User user = userRepository.findByUsername(request.getUsername())
            .orElseThrow(() -> new AuthenticationException("Invalid credentials"));
        
        // 2. éªŒè¯å¯†ç 
        if (!passwordEncoder.matches(request.getPassword(), user.getPassword())) {
            throw new AuthenticationException("Invalid credentials");
        }
        
        // 3. æ£€æŸ¥ç”¨æˆ·çŠ¶æ€
        if (user.getStatus() != UserStatus.ACTIVE) {
            throw new UserInactiveException("User account is not active");
        }
        
        // 4. ç”ŸæˆJWT Token
        String token = jwtTokenProvider.generateToken(user);
        
        // 5. æ›´æ–°ç™»å½•ä¿¡æ¯
        user.setLastLoginTime(LocalDateTime.now());
        user.setLastLoginIp(request.getIpAddress());
        userRepository.save(user);
        
        return LoginResponse.builder()
            .token(token)
            .user(UserMapper.toDTO(user))
            .build();
    }
}
```

#### 2.2 å†…å®¹ç®¡ç†æ¨¡å—å¼€å‘

**å¼€å‘ä»»åŠ¡åˆ†è§£**:

```markdown
## å†…å®¹ç®¡ç†æ¨¡å—å¼€å‘ä»»åŠ¡

### Sprint 5: æ–‡æ¡£ç®¡ç†åŸºç¡€åŠŸèƒ½
**ç›®æ ‡**: å®Œæˆæ–‡æ¡£çš„åˆ›å»ºã€ç¼–è¾‘ã€æŸ¥çœ‹ç­‰åŸºç¡€åŠŸèƒ½

#### åç«¯å¼€å‘ä»»åŠ¡
- [ ] æ–‡æ¡£å®ä½“è®¾è®¡å’Œæ•°æ®åº“è¡¨åˆ›å»º
- [ ] æ–‡æ¡£CRUD APIå¼€å‘
- [ ] æ–‡æ¡£åˆ†ç±»ç®¡ç†API
- [ ] æ–‡æ¡£æ ‡ç­¾ç®¡ç†API
- [ ] æ–‡ä»¶ä¸Šä¼ ä¸‹è½½API
- [ ] æ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶

#### å‰ç«¯å¼€å‘ä»»åŠ¡
- [ ] æ–‡æ¡£åˆ—è¡¨é¡µé¢
- [ ] æ–‡æ¡£åˆ›å»º/ç¼–è¾‘é¡µé¢
- [ ] æ–‡æ¡£è¯¦æƒ…é¡µé¢
- [ ] æ–‡æ¡£åˆ†ç±»ç®¡ç†é¡µé¢
- [ ] æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
- [ ] å¯Œæ–‡æœ¬ç¼–è¾‘å™¨é›†æˆ

#### æœç´¢åŠŸèƒ½å¼€å‘ä»»åŠ¡
- [ ] Elasticsearchç´¢å¼•é…ç½®
- [ ] æ–‡æ¡£æœç´¢APIå¼€å‘
- [ ] æœç´¢ç»“æœé¡µé¢
- [ ] é«˜çº§æœç´¢åŠŸèƒ½
- [ ] æœç´¢ç»“æœé«˜äº®

### Sprint 6: å†…å®¹å®¡æ ¸å’Œå‘å¸ƒ
**ç›®æ ‡**: å®Œæˆå†…å®¹å®¡æ ¸æµç¨‹å’Œå‘å¸ƒåŠŸèƒ½

#### åç«¯å¼€å‘ä»»åŠ¡
- [ ] å®¡æ ¸æµç¨‹å¼•æ“é›†æˆ
- [ ] æ–‡æ¡£çŠ¶æ€ç®¡ç†
- [ ] å®¡æ ¸ä»»åŠ¡åˆ†é…
- [ ] å‘å¸ƒè°ƒåº¦åŠŸèƒ½
- [ ] å®¡æ ¸å†å²è®°å½•

#### å‰ç«¯å¼€å‘ä»»åŠ¡
- [ ] å®¡æ ¸ä»»åŠ¡é¡µé¢
- [ ] å®¡æ ¸è¯¦æƒ…é¡µé¢
- [ ] å‘å¸ƒç®¡ç†é¡µé¢
- [ ] å®¡æ ¸å†å²æŸ¥è¯¢
- [ ] æ‰¹é‡æ“ä½œåŠŸèƒ½
```

### 3. ç¬¬ä¸‰é˜¶æ®µï¼šé«˜çº§åŠŸèƒ½å¼€å‘ï¼ˆ6å‘¨ï¼‰

#### 3.1 å·¥ä½œæµå¼•æ“å¼€å‘

**å·¥ä½œæµå¼•æ“é›†æˆæ–¹æ¡ˆ**:

```java
// å·¥ä½œæµæœåŠ¡å®ç°
@Service
@Transactional
public class WorkflowServiceImpl implements WorkflowService {
    
    @Autowired
    private ProcessEngine processEngine;
    
    @Autowired
    private ProcessDefinitionRepository processDefinitionRepository;
    
    @Override
    public ProcessInstance startProcess(String processKey, StartProcessRequest request, Long userId) {
        // 1. è·å–æµç¨‹å®šä¹‰
        ProcessDefinition processDefinition = processDefinitionRepository
            .findByKeyAndStatus(processKey, Status.ACTIVE)
            .orElseThrow(() -> new ProcessDefinitionNotFoundException("Process not found"));
        
        // 2. æ„å»ºæµç¨‹å˜é‡
        Map<String, Object> variables = new HashMap<>();
        variables.put("applicant", userId);
        variables.putAll(request.getVariables());
        
        // 3. å¯åŠ¨æµç¨‹å®ä¾‹
        org.activiti.engine.runtime.ProcessInstance activitiInstance = processEngine
            .getRuntimeService()
            .startProcessInstanceByKey(processKey, request.getBusinessKey(), variables);
        
        // 4. ä¿å­˜æµç¨‹å®ä¾‹ä¿¡æ¯
        ProcessInstance processInstance = ProcessInstance.builder()
            .processInstanceId(activitiInstance.getId())
            .processDefinitionId(processDefinition.getId())
            .processDefinitionKey(processKey)
            .businessKey(request.getBusinessKey())
            .startedBy(userId)
            .startTime(LocalDateTime.now())
            .variables(variables)
            .status(ProcessStatus.RUNNING)
            .build();
        
        return processInstanceRepository.save(processInstance);
    }
    
    @Override
    public List<TaskInstance> getTasksByAssignee(Long userId) {
        List<org.activiti.engine.task.Task> activitiTasks = processEngine
            .getTaskService()
            .createTaskQuery()
            .taskAssignee(userId.toString())
            .active()
            .orderByTaskCreateTime()
            .desc()
            .list();
        
        return activitiTasks.stream()
            .map(this::convertToTaskInstance)
            .collect(Collectors.toList());
    }
    
    private TaskInstance convertToTaskInstance(org.activiti.engine.task.Task activitiTask) {
        return TaskInstance.builder()
            .taskId(activitiTask.getId())
            .processInstanceId(activitiTask.getProcessInstanceId())
            .name(activitiTask.getName())
            .description(activitiTask.getDescription())
            .assignee(Long.parseLong(activitiTask.getAssignee()))
            .createTime(activitiTask.getCreateTime().toInstant()
                .atZone(ZoneId.systemDefault()).toLocalDateTime())
            .dueDate(activitiTask.getDueDate() != null ? 
                activitiTask.getDueDate().toInstant()
                    .atZone(ZoneId.systemDefault()).toLocalDateTime() : null)
            .build();
    }
}
```

#### 3.2 æœç´¢åŠŸèƒ½å¼€å‘

**Elasticsearché›†æˆå®ç°**:

```java
@Service
public class DocumentSearchServiceImpl implements DocumentSearchService {
    
    @Autowired
    private ElasticsearchOperations elasticsearchOperations;
    
    @Autowired
    private DocumentRepository documentRepository;
    
    @Override
    public void indexDocument(Document document) {
        DocumentSearchDocument searchDocument = DocumentSearchMapper.toSearchDocument(document);
        
        IndexQuery indexQuery = new IndexQueryBuilder()
            .withId(document.getId().toString())
            .withObject(searchDocument)
            .build();
        
        elasticsearchOperations.index(indexQuery);
    }
    
    @Override
    public SearchResult<DocumentDTO> searchDocuments(DocumentSearchRequest request) {
        // 1. æ„å»ºæŸ¥è¯¢æ¡ä»¶
        BoolQueryBuilder boolQuery = QueryBuilders.boolQuery();
        
        // å…³é”®è¯æœç´¢
        if (StringUtils.hasText(request.getKeyword())) {
            MultiMatchQueryBuilder multiMatchQuery = QueryBuilders.multiMatchQuery(request.getKeyword())
                .field("title", 2.0f)
                .field("content", 1.0f)
                .field("summary", 1.5f)
                .type(MultiMatchQueryBuilder.Type.BEST_FIELDS)
                .fuzziness("AUTO");
            
            boolQuery.must(multiMatchQuery);
        }
        
        // åˆ†ç±»è¿‡æ»¤
        if (request.getCategoryIds() != null && !request.getCategoryIds().isEmpty()) {
            boolQuery.filter(QueryBuilders.termsQuery("categoryId", request.getCategoryIds()));
        }
        
        // çŠ¶æ€è¿‡æ»¤
        if (request.getStatus() != null) {
            boolQuery.filter(QueryBuilders.termQuery("status", request.getStatus().name()));
        }
        
        // 2. æ„å»ºæ’åº
        List<SortBuilder<?>> sorts = new ArrayList<>();
        if ("relevance".equals(request.getSortBy())) {
            sorts.add(ScoreSortBuilder.DESC);
        } else if ("date".equals(request.getSortBy())) {
            sorts.add(FieldSortBuilder.DESC.field("createdAt"));
        }
        
        // 3. æ‰§è¡Œæœç´¢
        NativeSearchQuery searchQuery = new NativeSearchQueryBuilder()
            .withQuery(boolQuery)
            .withSorts(sorts)
            .withPageable(PageRequest.of(request.getPage(), request.getSize()))
            .build();
        
        SearchHits<DocumentSearchDocument> searchHits = elasticsearchOperations
            .search(searchQuery, DocumentSearchDocument.class);
        
        // 4. è½¬æ¢ç»“æœ
        List<DocumentDTO> documents = searchHits.getSearchHits().stream()
            .map(hit -> {
                DocumentSearchDocument doc = hit.getContent();
                DocumentDTO dto = DocumentMapper.toDTO(doc);
                dto.setScore(hit.getScore());
                return dto;
            })
            .collect(Collectors.toList());
        
        return SearchResult.<DocumentDTO>builder()
            .content(documents)
            .totalElements(searchHits.getTotalHits())
            .currentPage(request.getPage())
            .pageSize(request.getSize())
            .build();
    }
}
```

### 4. ç¬¬å››é˜¶æ®µï¼šæµ‹è¯•ä¸éƒ¨ç½²ï¼ˆ3å‘¨ï¼‰

#### 4.1 æµ‹è¯•ç­–ç•¥

**æµ‹è¯•é‡‘å­—å¡”å®ç°**:

```java
// å•å…ƒæµ‹è¯•ç¤ºä¾‹
@ExtendWith(MockitoExtension.class)
class UserServiceTest {
    
    @Mock
    private UserRepository userRepository;
    
    @Mock
    private PasswordEncoder passwordEncoder;
    
    @Mock
    private EmailService emailService;
    
    @InjectMocks
    private UserServiceImpl userService;
    
    @Test
    @DisplayName("ç”¨æˆ·æ³¨å†ŒæˆåŠŸ")
    void shouldRegisterUserSuccessfully() {
        // Given
        RegisterUserRequest request = RegisterUserRequest.builder()
            .username("testuser")
            .email("test@example.com")
            .password("password123")
            .build();
        
        when(passwordEncoder.encode("password123")).thenReturn("encodedPassword");
        when(userRepository.existsByUsername("testuser")).thenReturn(false);
        when(userRepository.existsByEmail("test@example.com")).thenReturn(false);
        when(userRepository.save(any(User.class))).thenAnswer(invocation -> {
            User user = invocation.getArgument(0);
            user.setId(1L);
            return user;
        });
        
        // When
        UserDTO result = userService.registerUser(request);
        
        // Then
        assertThat(result.getId()).isEqualTo(1L);
        assertThat(result.getUsername()).isEqualTo("testuser");
        assertThat(result.getEmail()).isEqualTo("test@example.com");
        
        verify(userRepository).save(any(User.class));
        verify(emailService).sendActivationEmail(eq("test@example.com"), anyString());
    }
}

// é›†æˆæµ‹è¯•ç¤ºä¾‹
@SpringBootTest
@TestPropertySource(properties = {
    "spring.datasource.url=jdbc:h2:mem:testdb",
    "spring.jpa.hibernate.ddl-auto=create-drop"
})
@Transactional
class UserControllerIntegrationTest {
    
    @Autowired
    private TestRestTemplate restTemplate;
    
    @Autowired
    private UserRepository userRepository;
    
    @Test
    @DisplayName("ç”¨æˆ·æ³¨å†Œç«¯åˆ°ç«¯æµ‹è¯•")
    void shouldRegisterUserEndToEnd() {
        // Given
        RegisterUserRequest request = RegisterUserRequest.builder()
            .username("e2euser")
            .email("e2e@example.com")
            .password("password123")
            .build();
        
        // When
        ResponseEntity<ApiResponse<UserDTO>> response = restTemplate.postForEntity(
            "/api/v1/auth/register", request, new ParameterizedTypeReference<ApiResponse<UserDTO>>() {});
        
        // Then
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.CREATED);
        assertThat(response.getBody().getData().getUsername()).isEqualTo("e2euser");
        
        // éªŒè¯æ•°æ®åº“ä¸­çš„æ•°æ®
        User savedUser = userRepository.findByUsername("e2euser").orElse(null);
        assertThat(savedUser).isNotNull();
        assertThat(savedUser.getEmail()).isEqualTo("e2e@example.com");
    }
}
```

#### 4.2 æ€§èƒ½æµ‹è¯•

**æ€§èƒ½æµ‹è¯•è„šæœ¬**:

```java
// æ€§èƒ½æµ‹è¯•ç¤ºä¾‹
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
@TestMethodOrder(OrderAnnotation.class)
class PerformanceTest {
    
    @Autowired
    private TestRestTemplate restTemplate;
    
    private static final int THREAD_COUNT = 100;
    private static final int REQUEST_COUNT = 1000;
    
    @Test
    @Order(1)
    @DisplayName("å¹¶å‘ç™»å½•æ€§èƒ½æµ‹è¯•")
    void testConcurrentLoginPerformance() throws InterruptedException {
        ExecutorService executor = Executors.newFixedThreadPool(THREAD_COUNT);
        CountDownLatch latch = new CountDownLatch(THREAD_COUNT);
        
        long startTime = System.currentTimeMillis();
        
        for (int i = 0; i < THREAD_COUNT; i++) {
            final int userId = i;
            executor.submit(() -> {
                try {
                    LoginRequest request = LoginRequest.builder()
                        .username("user" + userId)
                        .password("password123")
                        .build();
                    
                    for (int j = 0; j < REQUEST_COUNT / THREAD_COUNT; j++) {
                        restTemplate.postForEntity("/api/v1/auth/login", request, String.class);
                    }
                } finally {
                    latch.countDown();
                }
            });
        }
        
        latch.await();
        long endTime = System.currentTimeMillis();
        
        long totalTime = endTime - startTime;
        double throughput = (double) REQUEST_COUNT / (totalTime / 1000.0);
        
        System.out.println("å¹¶å‘ç™»å½•æ€§èƒ½æµ‹è¯•ç»“æœ:");
        System.out.println("æ€»è€—æ—¶: " + totalTime + "ms");
        System.out.println("ååé‡: " + throughput + " è¯·æ±‚/ç§’");
        
        // æ€§èƒ½æ–­è¨€
        assertThat(throughput).isGreaterThan(100); // è‡³å°‘100è¯·æ±‚/ç§’
        assertThat(totalTime).isLessThan(30000); // æ€»è€—æ—¶ä¸è¶…è¿‡30ç§’
    }
}
```

## ğŸ“Š è´¨é‡ä¿è¯ä½“ç³»

### 1. ä»£ç è´¨é‡æ§åˆ¶

#### 1.1 ä»£ç å®¡æŸ¥æµç¨‹

**ä»£ç å®¡æŸ¥æ£€æŸ¥æ¸…å•**:

```markdown
## ä»£ç å®¡æŸ¥æ£€æŸ¥æ¸…å•

### ä»£ç è´¨é‡
- [ ] ä»£ç ç¬¦åˆé¡¹ç›®ç¼–ç è§„èŒƒ
- [ ] æ–¹æ³•é•¿åº¦ä¸è¶…è¿‡50è¡Œ
- [ ] ç±»çš„èŒè´£å•ä¸€æ˜ç¡®
- [ ] æ²¡æœ‰é‡å¤ä»£ç 
- [ ] å¼‚å¸¸å¤„ç†å®Œå–„
- [ ] æ—¥å¿—è®°å½•é€‚å½“

### æ€§èƒ½è€ƒè™‘
- [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] é¿å…N+1æŸ¥è¯¢é—®é¢˜
- [ ] ç¼“å­˜ç­–ç•¥åˆç†
- [ ] å†…å­˜æ³„æ¼é£é™©æ£€æŸ¥
- [ ] å¤§å¯¹è±¡å¤„ç†ä¼˜åŒ–

### å®‰å…¨æ€§
- [ ] è¾“å…¥éªŒè¯å®Œæ•´
- [ ] SQLæ³¨å…¥é˜²æŠ¤
- [ ] XSSé˜²æŠ¤
- [ ] æ•æ„Ÿä¿¡æ¯åŠ å¯†
- [ ] æƒé™æ§åˆ¶æ­£ç¡®

### æµ‹è¯•è¦†ç›–
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%
- [ ] é›†æˆæµ‹è¯•è¦†ç›–ä¸»è¦æµç¨‹
- [ ] è¾¹ç•Œæ¡ä»¶æµ‹è¯•
- [ ] å¼‚å¸¸åœºæ™¯æµ‹è¯•
```

#### 1.2 è‡ªåŠ¨åŒ–è´¨é‡æ£€æŸ¥

**GitHub Actionsè´¨é‡æ£€æŸ¥**:

```yaml
# .github/workflows/quality-check.yml
name: Quality Check

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  quality-check:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Set up JDK 25
      uses: actions/setup-java@v3
      with:
        java-version: '25'
        distribution: 'temurin'
    
    - name: Cache Maven packages
      uses: actions/cache@v3
      with:
        path: ~/.m2
        key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
    
    - name: Run tests with coverage
      run: mvn clean test jacoco:report
    
    - name: Check test coverage
      run: |
        COVERAGE=$(mvn jacoco:report -q | grep -oP 'Total.*? \K[0-9]+' | head -1)
        if [ $COVERAGE -lt 80 ]; then
          echo "Test coverage is below 80%: $COVERAGE%"
          exit 1
        fi
    
    - name: Run SpotBugs
      run: mvn spotbugs:check
    
    - name: Run PMD analysis
      run: mvn pmd:check
    
    - name: Run SonarCloud analysis
      uses: SonarSource/sonarcloud-github-action@master
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
    
    - name: Check code formatting
      run: mvn spotless:check
    
    - name: Build project
      run: mvn clean package -DskipTests
```

### 2. æµ‹è¯•ç­–ç•¥

#### 2.1 æµ‹è¯•é‡‘å­—å¡”

**æµ‹è¯•å±‚çº§è®¾è®¡**:

```mermaid
graph TB
    subgraph "æµ‹è¯•é‡‘å­—å¡”"
        A[å•å…ƒæµ‹è¯• Unit Tests<br/>70%<br/>å¿«é€Ÿã€éš”ç¦»ã€ç¨³å®š] --> A1[æµ‹è¯•ç±»å’Œæ–¹æ³•]
        B[é›†æˆæµ‹è¯• Integration Tests<br/>20%<br/>æ¨¡å—é—´äº¤äº’] --> B1[æµ‹è¯•ç»„ä»¶é›†æˆ]
        C[ç«¯åˆ°ç«¯æµ‹è¯• E2E Tests<br/>10%<br/>å®Œæ•´ä¸šåŠ¡æµç¨‹] --> C1[æµ‹è¯•ç”¨æˆ·åœºæ™¯]
    end
```

#### 2.2 æµ‹è¯•æ•°æ®ç®¡ç†

**æµ‹è¯•æ•°æ®æ„å»ºå™¨**:

```java
// æµ‹è¯•æ•°æ®æ„å»ºå™¨
public class TestDataBuilder {
    
    public static class UserBuilder {
        private Long id = 1L;
        private String username = "testuser";
        private String email = "test@example.com";
        private String password = "password123";
        private UserStatus status = UserStatus.ACTIVE;
        private Set<Role> roles = new HashSet<>();
        
        public UserBuilder withId(Long id) {
            this.id = id;
            return this;
        }
        
        public UserBuilder withUsername(String username) {
            this.username = username;
            return this;
        }
        
        public UserBuilder withEmail(String email) {
            this.email = email;
            return this;
        }
        
        public UserBuilder withStatus(UserStatus status) {
            this.status = status;
            return this;
        }
        
        public UserBuilder withRole(Role role) {
            this.roles.add(role);
            return this;
        }
        
        public User build() {
            return User.builder()
                .id(id)
                .username(username)
                .email(email)
                .password(password)
                .status(status)
                .roles(roles)
                .build();
        }
    }
    
    public static UserBuilder user() {
        return new UserBuilder();
    }
}

// æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹
@ExtendWith(MockitoExtension.class)
class UserServiceTest {
    
    @Test
    @DisplayName("åˆ›å»ºç”¨æˆ·æˆåŠŸ")
    void shouldCreateUserSuccessfully() {
        // Given
        User user = TestDataBuilder.user()
            .withUsername("newuser")
            .withEmail("newuser@example.com")
            .withStatus(UserStatus.ACTIVE)
            .build();
        
        when(userRepository.save(any(User.class))).thenReturn(user);
        
        // When
        UserDTO result = userService.createUser(user);
        
        // Then
        assertThat(result.getUsername()).isEqualTo("newuser");
        assertThat(result.getEmail()).isEqualTo("newuser@example.com");
        assertThat(result.getStatus()).isEqualTo(UserStatus.ACTIVE);
    }
}
```

## ğŸš€ é£é™©ç®¡ç†

### 1. é£é™©è¯†åˆ«ä¸åº”å¯¹

#### 1.1 æŠ€æœ¯é£é™©

**æŠ€æœ¯é£é™©è¯„ä¼°è¡¨**:

| é£é™©é¡¹ | é£é™©ç­‰çº§ | å½±å“ | æ¦‚ç‡ | åº”å¯¹æªæ–½ | è´Ÿè´£äºº |
|--------|----------|------|------|----------|--------|
| æŠ€æœ¯æ ˆå…¼å®¹æ€§é—®é¢˜ | ä¸­ | å¼€å‘å»¶æœŸ | ä¸­ | æå‰éªŒè¯ã€å¤‡é€‰æ–¹æ¡ˆ | æŠ€æœ¯æ¶æ„å¸ˆ |
| æ€§èƒ½ä¸è¾¾æ ‡ | é«˜ | ç”¨æˆ·ä½“éªŒ | ä¸­ | æ€§èƒ½æµ‹è¯•ã€ä¼˜åŒ–æ–¹æ¡ˆ | åç«¯å›¢é˜Ÿ |
| å®‰å…¨æ¼æ´ | é«˜ | æ•°æ®æ³„éœ² | ä½ | å®‰å…¨å®¡è®¡ã€é˜²æŠ¤æªæ–½ | å®‰å…¨ä¸“å®¶ |
| ç¬¬ä¸‰æ–¹ä¾èµ–é£é™© | ä¸­ | åŠŸèƒ½å—é™ | ä¸­ | ä¾èµ–è¯„ä¼°ã€å¤‡é€‰æ–¹æ¡ˆ | æŠ€æœ¯æ¶æ„å¸ˆ |
| æ•°æ®è¿ç§»é£é™© | ä¸­ | æ•°æ®ä¸¢å¤± | ä½ | å¤‡ä»½ç­–ç•¥ã€æµ‹è¯•è¿ç§» | DBA |

#### 1.2 é¡¹ç›®é£é™©

**é¡¹ç›®é£é™©åº”å¯¹ç­–ç•¥**:

```java
// é£é™©ç›‘æ§ç³»ç»Ÿ
@Component
public class RiskMonitoringService {
    
    @Autowired
    private ProjectMetricsCollector metricsCollector;
    
    @Scheduled(cron = "0 0 9 * * MON-FRI")  // å·¥ä½œæ—¥æ¯å¤©9ç‚¹æ‰§è¡Œ
    public void monitorProjectRisks() {
        ProjectMetrics metrics = metricsCollector.collectMetrics();
        
        List<Risk> identifiedRisks = identifyRisks(metrics);
        
        for (Risk risk : identifiedRisks) {
            handleRisk(risk);
        }
    }
    
    private List<Risk> identifyRisks(ProjectMetrics metrics) {
        List<Risk> risks = new ArrayList<>();
        
        // è¿›åº¦é£é™©
        if (metrics.getScheduleVariance() > 0.2) {
            risks.add(Risk.builder()
                .type(RiskType.SCHEDULE)
                .severity(RiskSeverity.HIGH)
                .description("é¡¹ç›®è¿›åº¦åå·®è¶…è¿‡20%")
                .mitigation("å¢åŠ èµ„æºæŠ•å…¥ã€è°ƒæ•´è®¡åˆ’")
                .build());
        }
        
        // è´¨é‡é£é™©
        if (metrics.getDefectDensity() > 5) {
            risks.add(Risk.builder()
                .type(RiskType.QUALITY)
                .severity(RiskSeverity.MEDIUM)
                .description("ç¼ºé™·å¯†åº¦è¿‡é«˜")
                .mitigation("åŠ å¼ºä»£ç å®¡æŸ¥ã€å¢åŠ æµ‹è¯•")
                .build());
        }
        
        // èµ„æºé£é™©
        if (metrics.getTeamUtilization() > 0.9) {
            risks.add(Risk.builder()
                .type(RiskType.RESOURCE)
                .severity(RiskSeverity.MEDIUM)
                .description("å›¢é˜Ÿèµ„æºåˆ©ç”¨ç‡è¿‡é«˜")
                .mitigation("å¢åŠ äººåŠ›ã€ä¼˜åŒ–ä»»åŠ¡åˆ†é…")
                .build());
        }
        
        return risks;
    }
    
    private void handleRisk(Risk risk) {
        // 1. è®°å½•é£é™©
        riskRepository.save(risk);
        
        // 2. å‘é€å‘Šè­¦
        alertService.sendRiskAlert(risk);
        
        // 3. åˆ›å»ºåº”å¯¹ä»»åŠ¡
        if (risk.getSeverity() == RiskSeverity.HIGH) {
            createMitigationTask(risk);
        }
    }
}
```

### 2. å˜æ›´ç®¡ç†

#### 2.1 å˜æ›´æ§åˆ¶æµç¨‹

**å˜æ›´è¯·æ±‚å¤„ç†æµç¨‹**:

```mermaid
graph TB
    A[å˜æ›´è¯·æ±‚] --> B{å˜æ›´è¯„ä¼°}
    B -->|å°å˜æ›´| C[å¿«é€Ÿæ‰¹å‡†]
    B -->|ä¸­å˜æ›´| D[è¯¦ç»†è¯„ä¼°]
    B -->|å¤§å˜æ›´| E[å§”å‘˜ä¼šè¯„å®¡]
    
    C --> F[å®æ–½å˜æ›´]
    D --> G{æ‰¹å‡†?}
    E --> H{æ‰¹å‡†?}
    
    G -->|æ˜¯| F
    G -->|å¦| I[æ‹’ç»å˜æ›´]
    H -->|æ˜¯| F
    H -->|å¦| I
    
    F --> J[å˜æ›´éªŒè¯]
    J --> K[å˜æ›´å®Œæˆ]
    I --> L[é€šçŸ¥æ‹’ç»]
```

#### 2.2 é…ç½®ç®¡ç†

**é…ç½®ç‰ˆæœ¬æ§åˆ¶**:

```yaml
# é…ç½®ç®¡ç†ç­–ç•¥
configuration_management:
  version_control:
    tool: "Git"
    branch_strategy: "GitFlow"
    tagging_convention: "v{major}.{minor}.{patch}"
  
  environment_config:
    development:
      branch: "develop"
      auto_deploy: true
    
    staging:
      branch: "release/*"
      auto_deploy: true
      approval_required: true
    
    production:
      branch: "main"
      auto_deploy: false
      approval_required: true
      manual_verification: true
  
  change_management:
    change_types:
      - name: "minor"
        approval: "auto"
        testing: "automated"
      - name: "major"
        approval: "committee"
        testing: "comprehensive"
      - name: "emergency"
        approval: "fast_track"
        testing: "minimal"
```

## ğŸ“ˆ é¡¹ç›®ç›‘æ§ä¸æŠ¥å‘Š

### 1. é¡¹ç›®æŒ‡æ ‡ç›‘æ§

#### 1.1 å…³é”®æŒ‡æ ‡å®šä¹‰

**é¡¹ç›®KPIæŒ‡æ ‡**:

```java
// é¡¹ç›®æŒ‡æ ‡æ”¶é›†å™¨
@Component
public class ProjectMetricsCollector {
    
    @Autowired
    private JiraApiClient jiraClient;
    
    @Autowired
    private GitApiClient gitClient;
    
    @Autowired
    private SonarQubeClient sonarClient;
    
    public ProjectMetrics collectMetrics() {
        return ProjectMetrics.builder()
            .scheduleVariance(calculateScheduleVariance())
            .budgetVariance(calculateBudgetVariance())
            .defectDensity(calculateDefectDensity())
            .testCoverage(calculateTestCoverage())
            .codeQuality(calculateCodeQuality())
            .teamVelocity(calculateTeamVelocity())
            .teamUtilization(calculateTeamUtilization())
            .build();
    }
    
    private double calculateScheduleVariance() {
        // ä»Jiraè·å–è®¡åˆ’è¿›åº¦å’Œå®é™…è¿›åº¦
        SprintProgress planned = jiraClient.getCurrentSprintPlannedProgress();
        SprintProgress actual = jiraClient.getCurrentSprintActualProgress();
        
        return Math.abs(planned.getCompletionPercentage() - actual.getCompletionPercentage()) / 100.0;
    }
    
    private double calculateDefectDensity() {
        // ä»Jiraè·å–ç¼ºé™·æ•°é‡
        int totalDefects = jiraClient.getTotalDefects();
        int storyPoints = jiraClient.getTotalStoryPoints();
        
        return storyPoints > 0 ? (double) totalDefects / storyPoints : 0;
    }
    
    private double calculateTestCoverage() {
        // ä»SonarQubeè·å–æµ‹è¯•è¦†ç›–ç‡
        return sonarClient.getTestCoverage();
    }
}
```

#### 1.2 é¡¹ç›®æŠ¥å‘Š

**è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆ**:

```java
// é¡¹ç›®æŠ¥å‘ŠæœåŠ¡
@Service
public class ProjectReportService {
    
    @Autowired
    private ProjectMetricsCollector metricsCollector;
    
    @Autowired
    private ReportGenerator reportGenerator;
    
    @Scheduled(cron = "0 0 17 * * FRI")  // æ¯å‘¨äº”ä¸‹åˆ5ç‚¹ç”ŸæˆæŠ¥å‘Š
    public void generateWeeklyReport() {
        ProjectMetrics metrics = metricsCollector.collectMetrics();
        
        WeeklyReport report = WeeklyReport.builder()
            .reportDate(LocalDate.now())
            .metrics(metrics)
            .achievements(getWeeklyAchievements())
            .blockers(getWeeklyBlockers())
            .nextWeekPlan(getNextWeekPlan())
            .build();
        
        // ç”ŸæˆPDFæŠ¥å‘Š
        byte[] pdfReport = reportGenerator.generatePDF(report);
        
        // å‘é€é‚®ä»¶
        emailService.sendWeeklyReport(pdfReport);
        
        // ä¿å­˜åˆ°æ–‡æ¡£åº“
        documentRepository.saveReport(report, pdfReport);
    }
}
```

### 2. æŒç»­æ”¹è¿›

#### 2.1 å›é¡¾ä¼šè®®æœºåˆ¶

**Sprintå›é¡¾ä¼šè®®æµç¨‹**:

```markdown
## Sprintå›é¡¾ä¼šè®®è®®ç¨‹

### ä¼šè®®å‡†å¤‡
- æ—¶é—´ï¼šSprintç»“æŸåç¬¬ä¸€ä¸ªå·¥ä½œæ—¥ä¸‹åˆ
- å‚ä¸è€…ï¼šå…¨ä½“é¡¹ç›®æˆå‘˜
- å‡†å¤‡ææ–™ï¼šSprintæŒ‡æ ‡ã€é—®é¢˜æ¸…å•ã€æ”¹è¿›å»ºè®®

### ä¼šè®®è®®ç¨‹
1. **Sprintæˆæœå›é¡¾** (15åˆ†é’Ÿ)
   - å®Œæˆçš„åŠŸèƒ½åˆ—è¡¨
   - è¾¾æˆçš„ä¸šåŠ¡ä»·å€¼
   - å…³é”®æŒ‡æ ‡å±•ç¤º

2. **æ•°æ®åˆ†æ** (15åˆ†é’Ÿ)
   - é€Ÿåº¦è¶‹åŠ¿åˆ†æ
   - è´¨é‡æŒ‡æ ‡åˆ†æ
   - å›¢é˜Ÿåä½œåˆ†æ

3. **é—®é¢˜è®¨è®º** (20åˆ†é’Ÿ)
   - é‡åˆ°çš„å›°éš¾å’ŒæŒ‘æˆ˜
   - é˜»ç¢å› ç´ åˆ†æ
   - è§£å†³æ–¹æ¡ˆè®¨è®º

4. **æ”¹è¿›å»ºè®®** (15åˆ†é’Ÿ)
   - æµç¨‹æ”¹è¿›å»ºè®®
   - å·¥å…·æ”¹è¿›å»ºè®®
   - å›¢é˜Ÿåä½œæ”¹è¿›

5. **è¡ŒåŠ¨è®¡åˆ’** (10åˆ†é’Ÿ)
   - ç¡®å®šæ”¹è¿›æªæ–½
   - åˆ†é…è´£ä»»äºº
   - è®¾å®šå®Œæˆæ—¶é—´

### ä¼šè®®äº§å‡º
- ä¼šè®®çºªè¦
- æ”¹è¿›è¡ŒåŠ¨é¡¹
- ä¸‹Sprintå…³æ³¨ç‚¹
```

---

*æœ¬æ–‡æ¡£æä¾›äº†è¯¦ç»†çš„å®æ–½æ–¹æ¡ˆè®¾è®¡ï¼ŒåŒ…æ‹¬é¡¹ç›®ç»„ç»‡ã€å®æ–½é˜¶æ®µã€è´¨é‡ä¿è¯ã€é£é™©ç®¡ç†å’Œé¡¹ç›®ç›‘æ§çš„å…·ä½“å†…å®¹ï¼Œä¸ºé¡¹ç›®æˆåŠŸå®æ–½æä¾›äº†å…¨é¢çš„æŒ‡å¯¼ã€‚*