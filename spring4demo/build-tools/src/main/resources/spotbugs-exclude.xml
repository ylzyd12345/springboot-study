<?xml version="1.0" encoding="UTF-8"?>
<FindBugsFilter>
    <!--
        SpotBugs 排除规则

        排除 Spring 配置类中的误报警告：
        - EI_EXPOSE_REP2: Spring 管理的 bean 不需要担心外部可变对象暴露
        - BC_UNCONFIRMED_CAST_OF_RETURN_VALUE: Redisson API 的类型转换是安全的
    -->

    <!-- 排除 DynamicDataSourceConfig 的 EI_EXPOSE_REP2 警告 -->
    <Match>
        <Class name="com.kev1n.spring4demo.common.config.DynamicDataSourceConfig"/>
        <Bug pattern="EI_EXPOSE_REP2"/>
    </Match>

    <!-- 排除 RedissonConfig 的 EI_EXPOSE_REP2 和 BC_UNCONFIRMED_CAST_OF_RETURN_VALUE 警告 -->
    <Match>
        <Class name="com.kev1n.spring4demo.common.config.RedissonConfig"/>
        <Bug pattern="EI_EXPOSE_REP2"/>
    </Match>

    <Match>
        <Class name="com.kev1n.spring4demo.common.config.RedissonConfig"/>
        <Bug pattern="BC_UNCONFIRMED_CAST_OF_RETURN_VALUE"/>
    </Match>

    <!-- 排除 TemplateGeneratorSimple 的 VA_FORMAT_STRING_USES_NEWLINE 警告 -->
    <!-- 这是一个误报，因为使用的是 Java text blocks (""")，已经正确处理了平台无关的换行符 -->
    <Match>
        <Class name="com.kev1n.spring4demo.generator.TemplateGeneratorSimple"/>
        <Bug pattern="VA_FORMAT_STRING_USES_NEWLINE"/>
    </Match>
</FindBugsFilter>